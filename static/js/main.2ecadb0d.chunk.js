(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{219:function(e,t,a){},220:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(30),i=a.n(l),c=a(37),o=a(10),s=a(11),u=a(13),p=a(12),h=a(14),d=a(91),y=a.n(d),m=a(1),v=a.n(m),b=a(59),f=a.n(b),k=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={map:null},a.getChildContext=function(){return{map:a.state.map}},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.a.accessToken="pk.eyJ1IjoiYWxpY2VhdGQyZCIsImEiOiJjaXRwa2Z2aW0wMDBoMzNxZnhzMjRweWY4In0.2IxUsrVVbFKal0J8OZSeOg";var t=new f.a.Map({container:this.container,style:"mapbox://styles/mapbox/light-v9"});t.flyTo({center:[13.29,52.51],zoom:9}),t.on("load",function(){e.setState({map:t})})}},{key:"shouldComponentUpdate",value:function(e,t){return e.children!==this.props.children||t.map!==this.state.map}},{key:"render",value:function(){var e=this,t=this.props.children,a=this.state.map;return r.a.createElement("div",{className:"Map",ref:function(t){e.container=t}},a&&t)}}]),t}(n.Component);k.childContextTypes={map:v.a.object};var C=k,j=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this.context.map,t=this.props,a=t.id,n=t.url;e.addSource(a,{type:"vector",url:n})}},{key:"componentWillUnmount",value:function(){var e=this.context.map,t=this.props.id;e.removeSource(t)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.props.children&&r.a.Children.map(this.props.children,function(t){return r.a.cloneElement(t,{sourceId:e.props.id,sourceLayer:e.props.layer})}))}}]),t}(n.Component);j.contextTypes={map:v.a.object};var O=a(92),L=a.n(O),x=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this.context.map,t=this.props,a=t.id,n=t.type,r=t.sourceLayer,l=t.sourceId,i=t.layout,o=void 0===i?{}:i,s=t.paint,u=void 0===s?{}:s,p=t.sliderValue,h=t.isLayerChecked,d=t.before,y="".concat(l,"-").concat(a),m="".concat(n,"-opacity");e.addLayer({id:y,source:l,"source-layer":r,type:n,layout:o,paint:L()(u,Object(c.a)({},m,p))},d),h||e.setLayoutProperty(y,"visibility","none")}},{key:"componentWillReceiveProps",value:function(e){var t=this.context.map,a=this.props,n=a.id,r=a.type,l=a.sourceId,i=a.sliderValue,c=a.isLayerChecked,o="".concat(l,"-").concat(n);if(e.sliderValue&&e.sliderValue!==i&&t.setPaintProperty(o,"".concat(r,"-opacity"),e.sliderValue),e.isLayerChecked!==c){var s=e.isLayerChecked?"visible":"none";t.setLayoutProperty(o,"visibility",s)}return null}},{key:"componentWillUnmount",value:function(){var e=this.context.map,t=this.props,a=t.id,n=t.sourceId,r="".concat(n,"-").concat(a);e.removeLayer(r)}},{key:"render",value:function(){return null}}]),t}(n.Component);x.contextTypes={map:v.a.object};var E=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.context.map,a=this.props.isLayerChecked,n="#ffa500"===t.getPaintProperty("water","fill-color")?"#cad2d3":"#ffa500";return e.isLayerChecked!==a&&t.setPaintProperty("water","fill-color",n),null}},{key:"render",value:function(){return null}}]),t}(n.Component);E.contextTypes={map:v.a.object};var w=a(93),V=a.n(w),g=function(e){return r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("p",null,"Opacity: "),r.a.createElement(V.a,{defaultValue:.5,value:e.sliderValue,onChange:e.handleSlider,style:{width:"60vh"}}),r.a.createElement("p",null,e.sliderValue))},S=a(38),I=a.n(S),P=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={sliderValue:.5,teal:{isLayerChecked:!0},purple:{isLayerChecked:!1},orange:{isLayerChecked:!1}},a.handleSlider=function(e,t){a.setState({sliderValue:t})},a.handleCheckbox=function(e,t){a.setState(Object(c.a)({},e.target.value,{isLayerChecked:t}))},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(y.a,null,r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"App-header"},r.a.createElement("h2",null,"React + Mapbox GL = <3")),r.a.createElement(C,null,r.a.createElement(j,{id:"sourceID",url:"mapbox://aliceatd2d.1skjaazb",layer:"railwayLines-2es0gk"},r.a.createElement(x,{id:"line-layer",type:"line",paint:{"line-color":"teal"},sliderValue:this.state.sliderValue,isLayerChecked:this.state.teal.isLayerChecked}),r.a.createElement(x,{id:"fill-layer",type:"fill",paint:{"fill-color":"purple"},sliderValue:this.state.sliderValue,isLayerChecked:this.state.purple.isLayerChecked})),r.a.createElement(E,{isLayerChecked:this.state.orange.isLayerChecked})),r.a.createElement(g,{handleSlider:this.handleSlider,sliderValue:this.state.sliderValue}),r.a.createElement("div",null,r.a.createElement(I.a,{label:"Show railway lines",onCheck:this.handleCheckbox,checked:this.state.teal.isLayerChecked,value:"teal"}),r.a.createElement(I.a,{label:"Show another layer",onCheck:this.handleCheckbox,checked:this.state.purple.isLayerChecked,value:"purple"}),r.a.createElement(I.a,{label:"Paint water orange",onCheck:this.handleCheckbox,checked:this.state.orange.isLayerChecked,value:"orange"}))))}}]),t}(n.Component);a(219);i.a.render(r.a.createElement(P,null),document.getElementById("root"))},94:function(e,t,a){e.exports=a(220)}},[[94,1,2]]]);
//# sourceMappingURL=main.2ecadb0d.chunk.js.map