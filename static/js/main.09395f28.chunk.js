(this["webpackJsonpspa-mapbox"]=this["webpackJsonpspa-mapbox"]||[]).push([[0],{216:function(e,t,a){},217:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(30),i=a.n(l),c=a(37),o=a(10),s=a(11),u=a(13),p=a(12),h=a(89),d=a.n(h),y=a(1),m=a.n(y),v=a(58),f=a.n(v),k=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={map:null},e.getChildContext=function(){return{map:e.state.map}},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;f.a.accessToken="pk.eyJ1IjoiYWxpY2VhdGQyZCIsImEiOiJjaXRwa2Z2aW0wMDBoMzNxZnhzMjRweWY4In0.2IxUsrVVbFKal0J8OZSeOg";var t=new f.a.Map({container:this.container,style:"mapbox://styles/mapbox/light-v9"});t.flyTo({center:[13.29,52.51],zoom:9}),t.on("load",(function(){e.setState({map:t})}))}},{key:"shouldComponentUpdate",value:function(e,t){return e.children!==this.props.children||t.map!==this.state.map}},{key:"render",value:function(){var e=this,t=this.props.children,a=this.state.map;return r.a.createElement("div",{className:"Map",ref:function(t){e.container=t}},a&&t)}}]),a}(n.Component);k.childContextTypes={map:m.a.object};var b=k,C=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"componentWillMount",value:function(){var e=this.context.map,t=this.props,a=t.id,n=t.url;e.addSource(a,{type:"vector",url:n})}},{key:"componentWillUnmount",value:function(){var e=this.context.map,t=this.props.id;e.removeSource(t)}},{key:"render",value:function(){var e=this;return(r.a.createElement("div",null,this.props.children&&r.a.Children.map(this.props.children,(function(t){return r.a.cloneElement(t,{sourceId:e.props.id,sourceLayer:e.props.layer})}))))}}]),a}(n.Component);C.contextTypes={map:m.a.object};var j=a(57),L=a.n(j),x=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"componentWillMount",value:function(){var e=this.context.map,t=this.props,a=t.id,n=t.type,r=t.sourceLayer,l=t.sourceId,i=t.layout,o=void 0===i?{}:i,s=t.paint,u=void 0===s?{}:s,p=t.sliderValue,h=t.isLayerChecked,d=t.before,y="".concat(l,"-").concat(a),m="".concat(n,"-opacity");e.addLayer({id:y,source:l,"source-layer":r,type:n,layout:o,paint:L()(u,Object(c.a)({},m,p))},d),h||e.setLayoutProperty(y,"visibility","none")}},{key:"componentWillReceiveProps",value:function(e){var t=this.context.map,a=this.props,n=a.id,r=a.type,l=a.sourceId,i=a.sliderValue,c=a.isLayerChecked,o="".concat(l,"-").concat(n);if(e.sliderValue&&e.sliderValue!==i&&t.setPaintProperty(o,"".concat(r,"-opacity"),e.sliderValue),e.isLayerChecked!==c){var s=e.isLayerChecked?"visible":"none";t.setLayoutProperty(o,"visibility",s)}return null}},{key:"componentWillUnmount",value:function(){var e=this.context.map,t=this.props,a=t.id,n=t.sourceId,r="".concat(n,"-").concat(a);e.removeLayer(r)}},{key:"render",value:function(){return null}}]),a}(n.Component);x.contextTypes={map:m.a.object};var O=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"componentWillReceiveProps",value:function(e){var t=this.context.map,a=this.props.isLayerChecked,n="#ffa500"===t.getPaintProperty("water","fill-color")?"#cad2d3":"#ffa500";return e.isLayerChecked!==a&&t.setPaintProperty("water","fill-color",n),null}},{key:"render",value:function(){return null}}]),a}(n.Component);O.contextTypes={map:m.a.object};var E=a(90),V=a.n(E),w=function(e){return r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("p",null,"Opacity: "),r.a.createElement(V.a,{defaultValue:.5,value:e.sliderValue,onChange:e.handleSlider,style:{width:"60vh"}}),r.a.createElement("p",null,e.sliderValue))},g=a(38),S=a.n(g),I=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={sliderValue:.5,teal:{isLayerChecked:!0},purple:{isLayerChecked:!1},orange:{isLayerChecked:!1}},e.handleSlider=function(t,a){e.setState({sliderValue:a})},e.handleCheckbox=function(t,a){e.setState(Object(c.a)({},t.target.value,{isLayerChecked:a}))},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"App-header"},r.a.createElement("h2",null,"React + Mapbox GL = <3")),r.a.createElement(b,null,r.a.createElement(C,{id:"sourceID",url:"mapbox://aliceatd2d.1skjaazb",layer:"railwayLines-2es0gk"},r.a.createElement(x,{id:"line-layer",type:"line",paint:{"line-color":"teal"},sliderValue:this.state.sliderValue,isLayerChecked:this.state.teal.isLayerChecked}),r.a.createElement(x,{id:"fill-layer",type:"fill",paint:{"fill-color":"purple"},sliderValue:this.state.sliderValue,isLayerChecked:this.state.purple.isLayerChecked})),r.a.createElement(O,{isLayerChecked:this.state.orange.isLayerChecked})),r.a.createElement(w,{handleSlider:this.handleSlider,sliderValue:this.state.sliderValue}),r.a.createElement("div",null,r.a.createElement(S.a,{label:"Show railway lines",onCheck:this.handleCheckbox,checked:this.state.teal.isLayerChecked,value:"teal"}),r.a.createElement(S.a,{label:"Show another layer",onCheck:this.handleCheckbox,checked:this.state.purple.isLayerChecked,value:"purple"}),r.a.createElement(S.a,{label:"Paint water orange",onCheck:this.handleCheckbox,checked:this.state.orange.isLayerChecked,value:"orange"}))))}}]),a}(n.Component);a(216);i.a.render(r.a.createElement(I,null),document.getElementById("root"))},91:function(e,t,a){e.exports=a(217)}},[[91,1,2]]]);
//# sourceMappingURL=main.09395f28.chunk.js.map